@import "../../mixins/mixins";
@import "common/var";
@import "./input";
@import "./popper";
@import "./tag";
@import "./cascader-panel";

@include root {
  @include b(cascader) {
    display: inline-block;
    position: relative;
    font-size: $--font-size-base;
    line-height: $--input-height;
    
    &:not(.is-disabled):hover {
      .boss-input__inner {
        cursor: pointer;
        border-color: $--input-hover-border;
      }
    }

    .boss-input {
      cursor: pointer;

      .boss-input__inner {
        text-overflow: ellipsis;

        &:focus {
          border-color: $--input-focus-border;
        }
      }

      .boss-icon-arrow-down {
        transition: transform 0.3s;
        font-size: 14px;

        @include when(reverse) {
          transform: rotateZ(180deg);
        }
      }

      .boss-icon-circle-close:hover {
        color: $--input-clear-hover-color;
      }

      @include when(focus) {
        .boss-input__inner {
          border-color: $--input-focus-border;
        }
      }
    }

    @include m(medium) {
      font-size: $--input-medium-font-size;
      line-height: $--input-medium-height;
    }

    @include m(small) {
      font-size: $--input-small-font-size;
      line-height: $--input-small-height;
    }

    @include m(mini) {
      font-size: $--input-mini-font-size;
      line-height: $--input-mini-height;
    }

    @include when(disabled) {
      .boss-cascader__label {
        z-index: #{$--index-normal + 1};
        color: $--disabled-color-base;
      }
    }

    @include e(tags) {
      position: absolute;
      left: 0;
      right: 30px;
      top: 50%;
      transform: translateY(-50%);
      display: flex;
      flex-wrap: wrap;
      line-height: normal;
      text-align: left;
      box-sizing: border-box;
      .boss-tag {
        box-sizing: border-box;
        display: inline-flex;
        border: 1px solid #e8e8e8 !important;
        align-items: center;
        max-width: 100%;
        margin: 2px 0 2px 6px;
        font-size: inherit !important;
        text-overflow: ellipsis;
        border-radius: 2px;
        color: $--color-text-regular !important;
        background: $--cascader-tag-background;

        &:hover {
          opacity: 1 !important;
        }

        &:not(.is-hit) {
          border-color: transparent;
        }

        > span {
          flex: 1;
          overflow: hidden;
          text-overflow: ellipsis;
        }

        .boss-icon-close {
          flex: none;
          color: $--color-text-secondary !important;

          &:hover{
            color: rgba(0, 0, 0, 0.75) !important;
          }
          &::before {
            display: block;
            transform: translate(0, 0.5px);
          }
        }
      }
    }

    @include e(suggestion-panel) {
      border-radius: $--cascader-menu-radius;
    }

    @include e(suggestion-list) {
      max-height: 204px;
      margin: 0;
      padding: 6px 0;
      font-size: $--font-size-base;
      color: $--cascader-menu-font-color;
      text-align: center;
    }

    @include e(suggestion-item) {
      display: flex;
      justify-content: space-between;
      align-items: center;
      height: 34px;
      padding: 0 15px;
      text-align: left;
      outline: none;
      cursor: pointer;

      &:hover,
      &:focus {
        background: $--cascader-node-background-hover;
      }

      &.is-checked {
        color: $--cascader-menu-selected-font-color;
        background-color: $--cascader-menu-selected-background-color !important;
        font-weight: 600;
      }

      > span {
        margin-right: 10px;
      }
    }

    @include e(empty-text) {
      margin: 10px 0;
      color: $--cascader-color-empty;
    }

    @include e(search-input) {
      flex: 1;
      height: 24px;
      min-width: 60px;
      margin: 2px 0 2px 15px;
      padding: 0;
      color: $--cascader-menu-font-color;
      border: none;
      outline: none;
      box-sizing: border-box;

      &::placeholder {
        color: $--color-text-placeholder;
      }
    }
  }
}
